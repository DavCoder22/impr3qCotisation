{"remainingRequest":"C:\\web-cotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web-cotisation\\frontend\\src\\components\\CotizadorPrincipal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\web-cotisation\\frontend\\src\\components\\CotizadorPrincipal.vue","mtime":1734142691268},{"path":"C:\\web-cotisation\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733950475043},{"path":"C:\\web-cotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1733950473453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vLi4vc3VwYWJhc2UnOyAvLyBBanVzdGEgbGEgcnV0YSBzZWfDum4gdHUgZXN0cnVjdHVyYSBkZSBwcm95ZWN0bwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdm9sdW1lbjogIiIsCiAgICAgICAgcGVzbzogIiIsCiAgICAgICAgdGllbXBvOiAiIiwKICAgICAgICB0aXBvX2ZpbGFtZW50bzogInBsYSIsCiAgICAgICAgYWNhYmFkb3M6ICJmYWxzZSIsCiAgICAgICAgZW52aW86ICIiLAogICAgICB9LAogICAgICBjb3RpemFjaW9uOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNvdGl6YXIoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvY290aXphciIsIHRoaXMuZm9ybSk7CiAgICAgICAgdGhpcy5jb3RpemFjaW9uID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhbCBjYWxjdWxhciBsYSBjb3RpemFjacOzbjoiLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjb25maXJtYXJQZWRpZG8oKSB7CiAgICAgIGlmIChjb25maXJtKCLCv0Rlc2VhcyBjb25maXJtYXIgZWwgcGVkaWRvPyIpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oInBlZGlkb3MiKS5pbnNlcnQoW3sgLi4udGhpcy5mb3JtLCB0b3RhbDogdGhpcy5jb3RpemFjaW9uLnRvdGFsIH1dKTsKICAgICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7CiAgICAgICAgICBhbGVydCgiUGVkaWRvIGd1YXJkYWRvIGV4aXRvc2FtZW50ZS4iKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWwgZ3VhcmRhciBlbCBwZWRpZG86IiwgZXJyb3IpOwogICAgICAgICAgYWxlcnQoIk5vIHNlIHB1ZG8gZ3VhcmRhciBlbCBwZWRpZG8uIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["CotizadorPrincipal.vue"],"names":[],"mappings":";AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CotizadorPrincipal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h1>Cotizador de Impresión 3D</h1>\n    <form @submit.prevent=\"cotizar\">\n      <label>Volumen total (cm³):</label>\n      <input type=\"number\" v-model.number=\"form.volumen\" required />\n\n      <label>Peso material (g):</label>\n      <input type=\"number\" v-model.number=\"form.peso\" required />\n\n      <label>Tiempo de impresión (horas):</label>\n      <input type=\"number\" v-model.number=\"form.tiempo\" required />\n\n      <label>Tipo de filamento:</label>\n      <select v-model=\"form.tipo_filamento\" required>\n        <option value=\"pla\">PLA</option>\n        <option value=\"ptge\">PTGE</option>\n        <option value=\"abs\">ABS</option>\n        <option value=\"tpu\">TPU</option>\n      </select>\n\n      <label>¿Requiere acabados?</label>\n      <select v-model=\"form.acabados\" required>\n        <option value=\"true\">Sí</option>\n        <option value=\"false\">No</option>\n      </select>\n\n      <label>Costo de envío:</label>\n      <input type=\"number\" v-model.number=\"form.envio\" required />\n\n      <button type=\"submit\">Calcular Cotización</button>\n    </form>\n\n    <div v-if=\"cotizacion\">\n      <h2>Resultado de la Cotización</h2>\n      <p>Subtotal: ${{ cotizacion.subtotal.toFixed(2) }}</p>\n      <button @click=\"confirmarPedido\">Confirmación de Pedido</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { supabase } from '../../supabase'; // Ajusta la ruta según tu estructura de proyecto\n\nexport default {\n  data() {\n    return {\n      form: {\n        volumen: \"\",\n        peso: \"\",\n        tiempo: \"\",\n        tipo_filamento: \"pla\",\n        acabados: \"false\",\n        envio: \"\",\n      },\n      cotizacion: null,\n    };\n  },\n  methods: {\n    async cotizar() {\n      try {\n        const response = await axios.post(\"http://localhost:5000/cotizar\", this.form);\n        this.cotizacion = response.data;\n      } catch (error) {\n        console.error(\"Error al calcular la cotización:\", error);\n      }\n    },\n    async confirmarPedido() {\n      if (confirm(\"¿Deseas confirmar el pedido?\")) {\n        try {\n          const { error } = await supabase.from(\"pedidos\").insert([{ ...this.form, total: this.cotizacion.total }]);\n          if (error) throw error;\n          alert(\"Pedido guardado exitosamente.\");\n        } catch (error) {\n          console.error(\"Error al guardar el pedido:\", error);\n          alert(\"No se pudo guardar el pedido.\");\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  display: flex;\n  flex-direction: column;\n  max-width: 400px;\n}\nlabel {\n  margin-top: 10px;\n}\nbutton {\n  margin-top: 20px;\n}\n</style>\n"]}]}