{"remainingRequest":"C:\\web-cotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web-cotisation\\frontend\\src\\components\\CotizadorPrincipal.vue?vue&type=style&index=0&id=83ddc7c2&lang=css","dependencies":[{"path":"C:\\web-cotisation\\frontend\\src\\components\\CotizadorPrincipal.vue","mtime":1734012462130},{"path":"C:\\web-cotisation\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1733950475307},{"path":"C:\\web-cotisation\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1733950475459},{"path":"C:\\web-cotisation\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1733950475689},{"path":"C:\\web-cotisation\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733950475043},{"path":"C:\\web-cotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1733950473453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmZvcm0gewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBtYXgtd2lkdGg6IDQwMHB4Owp9CmxhYmVsIHsKICBtYXJnaW4tdG9wOiAxMHB4Owp9CmJ1dHRvbiB7CiAgbWFyZ2luLXRvcDogMjBweDsKfQo="},{"version":3,"sources":["CotizadorPrincipal.vue"],"names":[],"mappings":";AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CotizadorPrincipal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h1>Cotizador de Impresión 3D</h1>\n    <form @submit.prevent=\"cotizar\">\n      <label>Largo del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.largo\" required />\n\n      <label>Ancho del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.ancho\" required />\n\n      <label>Alto del modelo (cm):</label>\n      <input type=\"number\" v-model=\"form.alto\" required />\n\n      <label>Densidad de infill (%):</label>\n      <input type=\"number\" v-model=\"form.densidad_infill\" required />\n\n      <label>Velocidad de impresión (mm/s):</label>\n      <input type=\"number\" v-model=\"form.velocidad_impresion\" required />\n\n      <label>Tipo de filamento:</label>\n      <select v-model=\"form.tipo_filamento\" required>\n        <option value=\"pla\">PLA</option>\n        <option value=\"ptge\">PTGE</option>\n        <option value=\"abs\">ABS</option>\n        <option value=\"tpu\">TPU</option>\n      </select>\n\n      <label>¿Requiere acabados?</label>\n      <select v-model=\"form.acabados\" required>\n        <option value=\"true\">Sí</option>\n        <option value=\"false\">No</option>\n      </select>\n\n      <label>Tiempo de impresión (horas):</label>\n      <input type=\"number\" v-model=\"form.tiempo_impresion\" required />\n\n      <label>Peso del modelo (g):</label>\n      <input type=\"number\" v-model=\"form.peso_modelo\" required />\n\n      <label>Filamento consumido (metros):</label>\n      <input type=\"number\" v-model=\"form.filamento_consumido\" required />\n\n      <label>Costo de envío:</label>\n      <input type=\"number\" v-model=\"form.costo_envio\" required />\n\n      <button type=\"submit\">Calcular Cotización</button>\n    </form>\n\n    <div v-if=\"cotizacion\">\n      <h2>Resultado de la Cotización</h2>\n      <p>Subtotal: ${{ cotizacion.subtotal.toFixed(2) }}</p>\n      <button @click=\"confirmarPedido\">Confirmar Pedido</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { createClient } from \"@supabase/supabase-js\";\n\nconst supabase = createClient(\"https://tu-supabase-url.supabase.co\", \"tu-clave-publica\");\n\nexport default {\n  data() {\n    return {\n      form: {\n        largo: \"\",\n        ancho: \"\",\n        alto: \"\",\n        densidad_infill: \"\",\n        velocidad_impresion: \"\",\n        tipo_filamento: \"pla\",\n        acabados: \"false\",\n        tiempo_impresion: \"\",\n        peso_modelo: \"\",\n        filamento_consumido: \"\",\n        costo_envio: \"\",\n      },\n      cotizacion: null,\n    };\n  },\n  methods: {\n    async cotizar() {\n      try {\n        const response = await axios.post(\"http://localhost:5000/cotizar\", this.form);\n        this.cotizacion = response.data;\n      } catch (error) {\n        console.error(\"Error al calcular la cotización:\", error);\n      }\n    },\n    async confirmarPedido() {\n      if (confirm(\"¿Deseas confirmar el pedido?\")) {\n        try {\n          const { error } = await supabase.from(\"pedidos\").insert([{ ...this.form, total: this.cotizacion.total }]);\n          if (error) throw error;\n          alert(\"Pedido guardado exitosamente.\");\n        } catch (error) {\n          console.error(\"Error al guardar el pedido:\", error);\n          alert(\"No se pudo guardar el pedido.\");\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style>\nform {\n  display: flex;\n  flex-direction: column;\n  max-width: 400px;\n}\nlabel {\n  margin-top: 10px;\n}\nbutton {\n  margin-top: 20px;\n}\n</style>\n"]}]}