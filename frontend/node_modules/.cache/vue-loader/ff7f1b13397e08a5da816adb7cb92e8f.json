{"remainingRequest":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue","mtime":1734236742000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734185494000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1734185500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICJAc3VwYWJhc2Uvc3VwYWJhc2UtanMiOw0KDQovLyBDb25maWd1cmEgU3VwYWJhc2UNCmNvbnN0IHN1cGFiYXNlVXJsID0gImh0dHBzOi8vaGVsYWtsaWpqb2J2eHpneXNybW4uc3VwYWJhc2UuY28iOw0KY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkltaGxiR0ZyYkdscWFtOWlkbmg2WjNsemNtMXVJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM016TTNNalkxTWpZc0ltVjRjQ0k2TWpBME9UTXdNalV5Tm4wLkNVb3RwalFNVzJGYkkxYVd2enFqRk5WTUEyMWY2c0xoY1NEXzVlM1BXeU0iOw0KY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICB2b2x1bWVuOiBudWxsLA0KICAgICAgICBwZXNvOiBudWxsLA0KICAgICAgICBwcmVjaW9fZmlsYW1lbnRvX2dyYW1vOiBudWxsLA0KICAgICAgICBwcmVjaW9fdmVudGE6IG51bGwsDQogICAgICAgIHRvdGFsOiBudWxsLA0KICAgICAgfSwNCiAgICAgIHJlc3VsdGFkbzogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgY290aXphcigpIHsNCiAgICAgIC8vIFZhbGlkYSBsb3MgdmFsb3JlcyBsb2NhbG1lbnRlIGFudGVzIGRlIGVudmlhcmxvcw0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLmZvcm0udm9sdW1lbiA8PSAwIHx8DQogICAgICAgIHRoaXMuZm9ybS5wZXNvIDw9IDAgfHwNCiAgICAgICAgdGhpcy5mb3JtLnByZWNpb19maWxhbWVudG9fZ3JhbW8gPD0gMCB8fA0KICAgICAgICB0aGlzLmZvcm0ucHJlY2lvX3ZlbnRhIDw9IDAgfHwNCiAgICAgICAgdGhpcy5mb3JtLnRvdGFsIDw9IDANCiAgICAgICkgew0KICAgICAgICBhbGVydCgiVG9kb3MgbG9zIHZhbG9yZXMgZGViZW4gc2VyIG1heW9yZXMgcXVlIDAuIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgdHJ5IHsNCiAgICAgICAgLy8gRW52w61hIGxvcyBkYXRvcyBhIFN1cGFiYXNlDQogICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oInBlZGlkb3MiKS5pbnNlcnQoWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZvbHVtZW46IHRoaXMuZm9ybS52b2x1bWVuLA0KICAgICAgICAgICAgcGVzbzogdGhpcy5mb3JtLnBlc28sDQogICAgICAgICAgICBwcmVjaW9fZmlsYW1lbnRvX2dyYW1vOiB0aGlzLmZvcm0ucHJlY2lvX2ZpbGFtZW50b19ncmFtbywNCiAgICAgICAgICAgIHByZWNpb192ZW50YTogdGhpcy5mb3JtLnByZWNpb192ZW50YSwNCiAgICAgICAgICAgIHRvdGFsOiB0aGlzLmZvcm0udG90YWwsDQogICAgICAgICAgfSwNCiAgICAgICAgXSk7DQoNCiAgICAgICAgaWYgKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWwgZ3VhcmRhciBlbiBTdXBhYmFzZToiLCBlcnJvci5tZXNzYWdlKTsNCiAgICAgICAgICBhbGVydChgRXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnJlc3VsdGFkbyA9IHsgLi4udGhpcy5mb3JtIH07DQogICAgICAgICAgYWxlcnQoIsKhQ290aXphY2nDs24gZ3VhcmRhZGEgZXhpdG9zYW1lbnRlISIpOw0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgaW5lc3BlcmFkbzoiLCBlcnIubWVzc2FnZSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["CotizadorPrincipal.vue"],"names":[],"mappings":";AAoCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CotizadorPrincipal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Cotizador de Impresión 3D</h1>\r\n    <!-- Formulario para ingresar los datos -->\r\n    <form @submit.prevent=\"cotizar\">\r\n      <label>Volumen total (cm³):</label>\r\n      <input type=\"number\" v-model.number=\"form.volumen\" required min=\"0.01\" />\r\n\r\n      <label>Peso material (g):</label>\r\n      <input type=\"number\" v-model.number=\"form.peso\" required min=\"0.01\" />\r\n\r\n      <label>Precio por gramo de filamento ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.precio_filamento_gramo\" required min=\"0.01\" />\r\n\r\n      <label>Precio de venta ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.precio_venta\" required min=\"0.01\" />\r\n\r\n      <label>Total del pedido ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.total\" required min=\"0.01\" />\r\n\r\n      <button type=\"submit\">Calcular y Guardar</button>\r\n    </form>\r\n\r\n    <!-- Resultado de la cotización -->\r\n    <div v-if=\"resultado\">\r\n      <h2>Resultado de la Cotización</h2>\r\n      <p>Volumen: {{ form.volumen }} cm³</p>\r\n      <p>Peso: {{ form.peso }} g</p>\r\n      <p>Precio por gramo: ${{ form.precio_filamento_gramo }}</p>\r\n      <p>Precio de venta: ${{ form.precio_venta }}</p>\r\n      <p>Total: ${{ form.total }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\n// Configura Supabase\r\nconst supabaseUrl = \"https://helaklijjobvxzgysrmn.supabase.co\";\r\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhlbGFrbGlqam9idnh6Z3lzcm1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3MjY1MjYsImV4cCI6MjA0OTMwMjUyNn0.CUotpjQMW2FbI1aWvzqjFNVMA21f6sLhcSD_5e3PWyM\";\r\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        volumen: null,\r\n        peso: null,\r\n        precio_filamento_gramo: null,\r\n        precio_venta: null,\r\n        total: null,\r\n      },\r\n      resultado: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async cotizar() {\r\n      // Valida los valores localmente antes de enviarlos\r\n      if (\r\n        this.form.volumen <= 0 ||\r\n        this.form.peso <= 0 ||\r\n        this.form.precio_filamento_gramo <= 0 ||\r\n        this.form.precio_venta <= 0 ||\r\n        this.form.total <= 0\r\n      ) {\r\n        alert(\"Todos los valores deben ser mayores que 0.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Envía los datos a Supabase\r\n        const { error } = await supabase.from(\"pedidos\").insert([\r\n          {\r\n            volumen: this.form.volumen,\r\n            peso: this.form.peso,\r\n            precio_filamento_gramo: this.form.precio_filamento_gramo,\r\n            precio_venta: this.form.precio_venta,\r\n            total: this.form.total,\r\n          },\r\n        ]);\r\n\r\n        if (error) {\r\n          console.error(\"Error al guardar en Supabase:\", error.message);\r\n          alert(`Error: ${error.message}`);\r\n        } else {\r\n          this.resultado = { ...this.form };\r\n          alert(\"¡Cotización guardada exitosamente!\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error inesperado:\", err.message);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-family: Arial, sans-serif;\r\n  color: #333;\r\n}\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  max-width: 400px;\r\n}\r\nlabel {\r\n  font-weight: bold;\r\n}\r\ninput {\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\nbutton {\r\n  padding: 10px;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\nbutton:hover {\r\n  background-color: #45a049;\r\n}\r\n</style>\r\n"]}]}