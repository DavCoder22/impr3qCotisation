{"remainingRequest":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue","mtime":1734295662000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734185494000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1734185500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICdAL3N1cGFiYXNlJzsgLy8gSW1wb3J0YSBTdXBhYmFzZSBkZXNkZSBlbCBhcmNoaXZvIHN1cGFiYXNlLmpzIHVzYW5kbyB1bmEgcnV0YSByZWxhdGl2YQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHsNCiAgICAgICAgdm9sdW1lbjogIiIsDQogICAgICAgIHBlc286ICIiLA0KICAgICAgICB0aWVtcG86ICIiLA0KICAgICAgICB0aXBvX2ZpbGFtZW50bzogInBsYSIsDQogICAgICAgIGFjYWJhZG9zOiAiZmFsc2UiLA0KICAgICAgICBlbnZpbzogIiIsDQogICAgICB9LA0KICAgICAgY290aXphY2lvbjogbnVsbCwNCiAgICAgIHNob3dNb2RhbDogZmFsc2UsDQogICAgICBjbGllbnRlOiB7DQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgdGVsZWZvbm86ICIiLA0KICAgICAgICBub21icmU6ICIiLA0KICAgICAgICB3aGF0c2FwcDogIiIsDQogICAgICB9LA0KICAgICAgZXJyb3I6IG51bGwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgY290aXphcigpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NvdGl6YXIiLCB0aGlzLmZvcm0pOw0KICAgICAgICB0aGlzLmNvdGl6YWNpb24gPSByZXNwb25zZS5kYXRhOw0KICAgICAgICB0aGlzLmVycm9yID0gbnVsbDsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFsIGNhbGN1bGFyIGxhIGNvdGl6YWNpw7NuOiIsIGVycm9yKTsNCiAgICAgICAgdGhpcy5lcnJvciA9IChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpID8gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciA6ICJFcnJvciBhbCBjYWxjdWxhciBsYSBjb3RpemFjacOzbiI7DQogICAgICB9DQogICAgfSwNCiAgICBjb25maXJtYXJQZWRpZG8oKSB7DQogICAgICB0aGlzLnNob3dNb2RhbCA9IHRydWU7DQogICAgfSwNCiAgICBhdXRvY29tcGxldGFyQ2xpZW50ZSgpIHsNCiAgICAgIHRoaXMuY2xpZW50ZS5ub21icmUgPSB0aGlzLmV4dHJhY3ROYW1lRnJvbUVtYWlsKHRoaXMuY2xpZW50ZS5lbWFpbCk7DQogICAgICB0aGlzLmNsaWVudGUud2hhdHNhcHAgPSB0aGlzLmNsaWVudGUudGVsZWZvbm87DQogICAgfSwNCiAgICBleHRyYWN0TmFtZUZyb21FbWFpbChlbWFpbCkgew0KICAgICAgcmV0dXJuIGVtYWlsLnNwbGl0KCdAJylbMF07DQogICAgfSwNCiAgICBhc3luYyBlbnZpYXJQZWRpZG8oKSB7DQogICAgICBpZiAoIXRoaXMuY290aXphY2lvbikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCJObyBoYXkgY290aXphY2nDs24gZGlzcG9uaWJsZS4iKTsNCiAgICAgICAgYWxlcnQoIk5vIGhheSBjb3RpemFjacOzbiBkaXNwb25pYmxlLiIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGlmICghc3VwYWJhc2UpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcigiU3VwYWJhc2Ugbm8gZXN0w6EgaW5pY2lhbGl6YWRvLiIpOw0KICAgICAgICBhbGVydCgiU3VwYWJhc2Ugbm8gZXN0w6EgaW5pY2lhbGl6YWRvLiIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGNvbnN0IHRvdGFsQ29uSVZBID0gdGhpcy5jb3RpemFjaW9uLnN1YnRvdGFsICogMS4xNjsgLy8gQXN1bWllbmRvIHVuIElWQSBkZWwgMTYlDQoNCiAgICAgIC8vIFZlcmlmaWNhciB5IGNyZWFyIGVsIGVzdGFkbyBkZWwgcGVkaWRvIHNpIG5vIGV4aXN0ZQ0KICAgICAgbGV0IGVzdGFkb0lkOw0KICAgICAgY29uc3QgeyBkYXRhOiBlc3RhZG9zLCBlcnJvcjogZXJyb3JFc3RhZG9zIH0gPSBhd2FpdCBzdXBhYmFzZQ0KICAgICAgICAuZnJvbSgnZXN0YWRvc19wZWRpZG8nKQ0KICAgICAgICAuc2VsZWN0KCdpZCcpDQogICAgICAgIC5lcSgnbm9tYnJlJywgJ3BlbmRpZW50ZScpOw0KDQogICAgICBpZiAoZXJyb3JFc3RhZG9zKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIGFsIG9idGVuZXIgZXN0YWRvcyBkZWwgcGVkaWRvOiIsIGVycm9yRXN0YWRvcyk7DQogICAgICAgIGFsZXJ0KCJObyBzZSBwdWRvIG9idGVuZXIgbG9zIGVzdGFkb3MgZGVsIHBlZGlkby4iKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICBpZiAoZXN0YWRvcyAmJiBlc3RhZG9zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZXN0YWRvSWQgPSBlc3RhZG9zWzBdLmlkOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgeyBkYXRhOiBudWV2b0VzdGFkbywgZXJyb3I6IGVycm9yTnVldm9Fc3RhZG8gfSA9IGF3YWl0IHN1cGFiYXNlDQogICAgICAgICAgLmZyb20oJ2VzdGFkb3NfcGVkaWRvJykNCiAgICAgICAgICAuaW5zZXJ0KFt7IG5vbWJyZTogJ3BlbmRpZW50ZScgfV0pOw0KDQogICAgICAgIGlmIChlcnJvck51ZXZvRXN0YWRvKSB7DQogICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWwgY3JlYXIgbnVldm8gZXN0YWRvIGRlbCBwZWRpZG86IiwgZXJyb3JOdWV2b0VzdGFkbyk7DQogICAgICAgICAgYWxlcnQoIk5vIHNlIHB1ZG8gY3JlYXIgZWwgZXN0YWRvIGRlbCBwZWRpZG8uIik7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgZXN0YWRvSWQgPSBudWV2b0VzdGFkb1swXS5pZDsNCiAgICAgIH0NCg0KICAgICAgLy8gVmVyaWZpY2FyIHkgY3JlYXIgZWwgY2xpZW50ZSBzaSBubyBleGlzdGUNCiAgICAgIGxldCBjbGllbnRlSWQ7DQogICAgICBjb25zdCB7IGRhdGE6IGNsaWVudGVzLCBlcnJvcjogZXJyb3JDbGllbnRlcyB9ID0gYXdhaXQgc3VwYWJhc2UNCiAgICAgICAgLmZyb20oJ2NsaWVudGVzJykNCiAgICAgICAgLnNlbGVjdCgnaWQnKQ0KICAgICAgICAuZXEoJ2VtYWlsJywgdGhpcy5jbGllbnRlLmVtYWlsKTsNCg0KICAgICAgaWYgKGVycm9yQ2xpZW50ZXMpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWwgb2J0ZW5lciBjbGllbnRlczoiLCBlcnJvckNsaWVudGVzKTsNCiAgICAgICAgYWxlcnQoIk5vIHNlIHB1ZG8gb2J0ZW5lciBsb3MgY2xpZW50ZXMuIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgaWYgKGNsaWVudGVzICYmIGNsaWVudGVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY2xpZW50ZUlkID0gY2xpZW50ZXNbMF0uaWQ7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCB7IGRhdGE6IG51ZXZvQ2xpZW50ZSwgZXJyb3I6IGVycm9yTnVldm9DbGllbnRlIH0gPSBhd2FpdCBzdXBhYmFzZQ0KICAgICAgICAgIC5mcm9tKCdjbGllbnRlcycpDQogICAgICAgICAgLmluc2VydChbew0KICAgICAgICAgICAgbm9tYnJlOiB0aGlzLmNsaWVudGUubm9tYnJlLA0KICAgICAgICAgICAgZW1haWw6IHRoaXMuY2xpZW50ZS5lbWFpbCwNCiAgICAgICAgICAgIHRlbGVmb25vOiB0aGlzLmNsaWVudGUudGVsZWZvbm8sDQogICAgICAgICAgICB3aGF0c2FwcDogdGhpcy5jbGllbnRlLndoYXRzYXBwLA0KICAgICAgICAgIH1dKTsNCg0KICAgICAgICBpZiAoZXJyb3JOdWV2b0NsaWVudGUpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhbCBjcmVhciBudWV2byBjbGllbnRlOiIsIGVycm9yTnVldm9DbGllbnRlKTsNCiAgICAgICAgICBhbGVydCgiTm8gc2UgcHVkbyBjcmVhciBlbCBjbGllbnRlLiIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIGNsaWVudGVJZCA9IG51ZXZvQ2xpZW50ZVswXS5pZDsNCiAgICAgIH0NCg0KICAgICAgLy8gQ3JlYXIgZWwgcGVkaWRvDQogICAgICBjb25zdCBwZWRpZG8gPSB7DQogICAgICAgIHZvbHVtZW46IHRoaXMuZm9ybS52b2x1bWVuLA0KICAgICAgICBwZXNvOiB0aGlzLmZvcm0ucGVzbywNCiAgICAgICAgdGllbXBvOiB0aGlzLmZvcm0udGllbXBvLA0KICAgICAgICB0aXBvX2ZpbGFtZW50bzogdGhpcy5mb3JtLnRpcG9fZmlsYW1lbnRvLA0KICAgICAgICBhY2FiYWRvczogdGhpcy5mb3JtLmFjYWJhZG9zID09PSAidHJ1ZSIsDQogICAgICAgIGVudmlvOiB0aGlzLmZvcm0uZW52aW8sDQogICAgICAgIHRvdGFsOiB0b3RhbENvbklWQSwNCiAgICAgICAgZXN0YWRvX2lkOiBlc3RhZG9JZCwNCiAgICAgICAgY2xpZW50ZV9pZDogY2xpZW50ZUlkLA0KICAgICAgICBwcmVjaW9fZmlsYW1lbnRvX2dyYW1vOiB0aGlzLmNvdGl6YWNpb24ucHJlY2lvX2ZpbGFtZW50b19ncmFtbywNCiAgICAgICAgZmVjaGFfcGVkaWRvOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksDQogICAgICAgIHByZWNpb192ZW50YTogdGhpcy5jb3RpemFjaW9uLnRvdGFsX2ZpbmFsDQogICAgICB9Ow0KDQogICAgICB0cnkgew0KICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCJwZWRpZG9zIikuaW5zZXJ0KFtwZWRpZG9dKTsNCiAgICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjsNCiAgICAgICAgYWxlcnQoIlBlZGlkbyBndWFyZGFkbyBleGl0b3NhbWVudGUuIik7DQogICAgICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhbCBndWFyZGFyIGVsIHBlZGlkbzoiLCBlcnJvcik7DQogICAgICAgIGFsZXJ0KCJObyBzZSBwdWRvIGd1YXJkYXIgZWwgcGVkaWRvLiIpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICB0b3RhbENvbklWQSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmNvdGl6YWNpb24gPyB0aGlzLmNvdGl6YWNpb24uc3VidG90YWwgKiAxLjE2IDogMDsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["CotizadorPrincipal.vue"],"names":[],"mappings":";AAiEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CotizadorPrincipal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Cotizador de Impresión 3D</h1>\r\n    <form @submit.prevent=\"cotizar\">\r\n      <label>Volumen total (cm³):</label>\r\n      <input type=\"number\" v-model.number=\"form.volumen\" required />\r\n\r\n      <label>Peso material (g):</label>\r\n      <input type=\"number\" v-model.number=\"form.peso\" required />\r\n\r\n      <label>Tiempo de impresión (horas):</label>\r\n      <input type=\"number\" v-model.number=\"form.tiempo\" required />\r\n\r\n      <label>Tipo de filamento:</label>\r\n      <select v-model=\"form.tipo_filamento\" required>\r\n        <option value=\"pla\">PLA</option>\r\n        <option value=\"ptge\">PTGE</option>\r\n        <option value=\"abs\">ABS</option>\r\n        <option value=\"tpu\">TPU</option>\r\n      </select>\r\n\r\n      <label>¿Requiere acabados?</label>\r\n      <select v-model=\"form.acabados\" required>\r\n        <option value=\"true\">Sí</option>\r\n        <option value=\"false\">No</option>\r\n      </select>\r\n\r\n      <label>Costo de envío:</label>\r\n      <input type=\"number\" v-model.number=\"form.envio\" required />\r\n\r\n      <button type=\"submit\">Calcular Cotización</button>\r\n    </form>\r\n\r\n    <div v-if=\"cotizacion\">\r\n      <h2>Resultado de la Cotización</h2>\r\n      <p>Subtotal: ${{ cotizacion.subtotal.toFixed(2) }}</p>\r\n      <button @click=\"confirmarPedido\">Confirmación de Pedido</button>\r\n    </div>\r\n\r\n    <div v-if=\"error\">\r\n      <p>Error: {{ error }}</p>\r\n    </div>\r\n\r\n    <!-- Modal para confirmar pedido -->\r\n    <div v-if=\"showModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>Confirmar Pedido</h2>\r\n        <form @submit.prevent=\"enviarPedido\">\r\n          <label>Correo:</label>\r\n          <input type=\"email\" v-model=\"cliente.email\" required @input=\"autocompletarCliente\" />\r\n\r\n          <label>Teléfono:</label>\r\n          <input type=\"text\" v-model=\"cliente.telefono\" required @input=\"autocompletarCliente\" />\r\n\r\n          <p>Total a pagar: ${{ totalConIVA.toFixed(2) }}</p>\r\n\r\n          <button type=\"submit\">Enviar Pedido</button>\r\n          <button type=\"button\" @click=\"showModal = false\">Cancelar</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { supabase } from '@/supabase'; // Importa Supabase desde el archivo supabase.js usando una ruta relativa\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        volumen: \"\",\r\n        peso: \"\",\r\n        tiempo: \"\",\r\n        tipo_filamento: \"pla\",\r\n        acabados: \"false\",\r\n        envio: \"\",\r\n      },\r\n      cotizacion: null,\r\n      showModal: false,\r\n      cliente: {\r\n        email: \"\",\r\n        telefono: \"\",\r\n        nombre: \"\",\r\n        whatsapp: \"\",\r\n      },\r\n      error: null\r\n    };\r\n  },\r\n  methods: {\r\n    async cotizar() {\r\n      try {\r\n        const response = await axios.post(\"http://localhost:5000/cotizar\", this.form);\r\n        this.cotizacion = response.data;\r\n        this.error = null;\r\n      } catch (error) {\r\n        console.error(\"Error al calcular la cotización:\", error);\r\n        this.error = (error.response && error.response.data && error.response.data.error) ? error.response.data.error : \"Error al calcular la cotización\";\r\n      }\r\n    },\r\n    confirmarPedido() {\r\n      this.showModal = true;\r\n    },\r\n    autocompletarCliente() {\r\n      this.cliente.nombre = this.extractNameFromEmail(this.cliente.email);\r\n      this.cliente.whatsapp = this.cliente.telefono;\r\n    },\r\n    extractNameFromEmail(email) {\r\n      return email.split('@')[0];\r\n    },\r\n    async enviarPedido() {\r\n      if (!this.cotizacion) {\r\n        console.error(\"No hay cotización disponible.\");\r\n        alert(\"No hay cotización disponible.\");\r\n        return;\r\n      }\r\n\r\n      if (!supabase) {\r\n        console.error(\"Supabase no está inicializado.\");\r\n        alert(\"Supabase no está inicializado.\");\r\n        return;\r\n      }\r\n\r\n      const totalConIVA = this.cotizacion.subtotal * 1.16; // Asumiendo un IVA del 16%\r\n\r\n      // Verificar y crear el estado del pedido si no existe\r\n      let estadoId;\r\n      const { data: estados, error: errorEstados } = await supabase\r\n        .from('estados_pedido')\r\n        .select('id')\r\n        .eq('nombre', 'pendiente');\r\n\r\n      if (errorEstados) {\r\n        console.error(\"Error al obtener estados del pedido:\", errorEstados);\r\n        alert(\"No se pudo obtener los estados del pedido.\");\r\n        return;\r\n      }\r\n\r\n      if (estados && estados.length > 0) {\r\n        estadoId = estados[0].id;\r\n      } else {\r\n        const { data: nuevoEstado, error: errorNuevoEstado } = await supabase\r\n          .from('estados_pedido')\r\n          .insert([{ nombre: 'pendiente' }]);\r\n\r\n        if (errorNuevoEstado) {\r\n          console.error(\"Error al crear nuevo estado del pedido:\", errorNuevoEstado);\r\n          alert(\"No se pudo crear el estado del pedido.\");\r\n          return;\r\n        }\r\n\r\n        estadoId = nuevoEstado[0].id;\r\n      }\r\n\r\n      // Verificar y crear el cliente si no existe\r\n      let clienteId;\r\n      const { data: clientes, error: errorClientes } = await supabase\r\n        .from('clientes')\r\n        .select('id')\r\n        .eq('email', this.cliente.email);\r\n\r\n      if (errorClientes) {\r\n        console.error(\"Error al obtener clientes:\", errorClientes);\r\n        alert(\"No se pudo obtener los clientes.\");\r\n        return;\r\n      }\r\n\r\n      if (clientes && clientes.length > 0) {\r\n        clienteId = clientes[0].id;\r\n      } else {\r\n        const { data: nuevoCliente, error: errorNuevoCliente } = await supabase\r\n          .from('clientes')\r\n          .insert([{\r\n            nombre: this.cliente.nombre,\r\n            email: this.cliente.email,\r\n            telefono: this.cliente.telefono,\r\n            whatsapp: this.cliente.whatsapp,\r\n          }]);\r\n\r\n        if (errorNuevoCliente) {\r\n          console.error(\"Error al crear nuevo cliente:\", errorNuevoCliente);\r\n          alert(\"No se pudo crear el cliente.\");\r\n          return;\r\n        }\r\n\r\n        clienteId = nuevoCliente[0].id;\r\n      }\r\n\r\n      // Crear el pedido\r\n      const pedido = {\r\n        volumen: this.form.volumen,\r\n        peso: this.form.peso,\r\n        tiempo: this.form.tiempo,\r\n        tipo_filamento: this.form.tipo_filamento,\r\n        acabados: this.form.acabados === \"true\",\r\n        envio: this.form.envio,\r\n        total: totalConIVA,\r\n        estado_id: estadoId,\r\n        cliente_id: clienteId,\r\n        precio_filamento_gramo: this.cotizacion.precio_filamento_gramo,\r\n        fecha_pedido: new Date().toISOString(),\r\n        precio_venta: this.cotizacion.total_final\r\n      };\r\n\r\n      try {\r\n        const { error } = await supabase.from(\"pedidos\").insert([pedido]);\r\n        if (error) throw error;\r\n        alert(\"Pedido guardado exitosamente.\");\r\n        this.showModal = false;\r\n      } catch (error) {\r\n        console.error(\"Error al guardar el pedido:\", error);\r\n        alert(\"No se pudo guardar el pedido.\");\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    totalConIVA() {\r\n      return this.cotizacion ? this.cotizacion.subtotal * 1.16 : 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 400px;\r\n}\r\nlabel {\r\n  margin-top: 10px;\r\n}\r\nbutton {\r\n  margin-top: 20px;\r\n}\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.modal-content {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n"]}]}