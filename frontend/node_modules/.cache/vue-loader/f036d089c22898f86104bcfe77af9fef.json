{"remainingRequest":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue?vue&type=style&index=0&id=83ddc7c2&scoped=true&lang=css","dependencies":[{"path":"E:\\impr3qCotisation\\frontend\\src\\components\\CotizadorPrincipal.vue","mtime":1734236742000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1734185494000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1734185500000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1734185498000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734185494000},{"path":"E:\\impr3qCotisation\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1734185500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpoMSB7DQogIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgY29sb3I6ICMzMzM7DQp9DQpmb3JtIHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgZ2FwOiAxMHB4Ow0KICBtYXgtd2lkdGg6IDQwMHB4Ow0KfQ0KbGFiZWwgew0KICBmb250LXdlaWdodDogYm9sZDsNCn0NCmlucHV0IHsNCiAgcGFkZGluZzogOHB4Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOw0KICBib3JkZXItcmFkaXVzOiA0cHg7DQp9DQpidXR0b24gew0KICBwYWRkaW5nOiAxMHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwOw0KICBjb2xvcjogd2hpdGU7DQogIGJvcmRlcjogbm9uZTsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQpidXR0b246aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5Ow0KfQ0K"},{"version":3,"sources":["CotizadorPrincipal.vue"],"names":[],"mappings":";AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CotizadorPrincipal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Cotizador de Impresión 3D</h1>\r\n    <!-- Formulario para ingresar los datos -->\r\n    <form @submit.prevent=\"cotizar\">\r\n      <label>Volumen total (cm³):</label>\r\n      <input type=\"number\" v-model.number=\"form.volumen\" required min=\"0.01\" />\r\n\r\n      <label>Peso material (g):</label>\r\n      <input type=\"number\" v-model.number=\"form.peso\" required min=\"0.01\" />\r\n\r\n      <label>Precio por gramo de filamento ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.precio_filamento_gramo\" required min=\"0.01\" />\r\n\r\n      <label>Precio de venta ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.precio_venta\" required min=\"0.01\" />\r\n\r\n      <label>Total del pedido ($):</label>\r\n      <input type=\"number\" v-model.number=\"form.total\" required min=\"0.01\" />\r\n\r\n      <button type=\"submit\">Calcular y Guardar</button>\r\n    </form>\r\n\r\n    <!-- Resultado de la cotización -->\r\n    <div v-if=\"resultado\">\r\n      <h2>Resultado de la Cotización</h2>\r\n      <p>Volumen: {{ form.volumen }} cm³</p>\r\n      <p>Peso: {{ form.peso }} g</p>\r\n      <p>Precio por gramo: ${{ form.precio_filamento_gramo }}</p>\r\n      <p>Precio de venta: ${{ form.precio_venta }}</p>\r\n      <p>Total: ${{ form.total }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\n// Configura Supabase\r\nconst supabaseUrl = \"https://helaklijjobvxzgysrmn.supabase.co\";\r\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhlbGFrbGlqam9idnh6Z3lzcm1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3MjY1MjYsImV4cCI6MjA0OTMwMjUyNn0.CUotpjQMW2FbI1aWvzqjFNVMA21f6sLhcSD_5e3PWyM\";\r\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        volumen: null,\r\n        peso: null,\r\n        precio_filamento_gramo: null,\r\n        precio_venta: null,\r\n        total: null,\r\n      },\r\n      resultado: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async cotizar() {\r\n      // Valida los valores localmente antes de enviarlos\r\n      if (\r\n        this.form.volumen <= 0 ||\r\n        this.form.peso <= 0 ||\r\n        this.form.precio_filamento_gramo <= 0 ||\r\n        this.form.precio_venta <= 0 ||\r\n        this.form.total <= 0\r\n      ) {\r\n        alert(\"Todos los valores deben ser mayores que 0.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Envía los datos a Supabase\r\n        const { error } = await supabase.from(\"pedidos\").insert([\r\n          {\r\n            volumen: this.form.volumen,\r\n            peso: this.form.peso,\r\n            precio_filamento_gramo: this.form.precio_filamento_gramo,\r\n            precio_venta: this.form.precio_venta,\r\n            total: this.form.total,\r\n          },\r\n        ]);\r\n\r\n        if (error) {\r\n          console.error(\"Error al guardar en Supabase:\", error.message);\r\n          alert(`Error: ${error.message}`);\r\n        } else {\r\n          this.resultado = { ...this.form };\r\n          alert(\"¡Cotización guardada exitosamente!\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error inesperado:\", err.message);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-family: Arial, sans-serif;\r\n  color: #333;\r\n}\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  max-width: 400px;\r\n}\r\nlabel {\r\n  font-weight: bold;\r\n}\r\ninput {\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\nbutton {\r\n  padding: 10px;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\nbutton:hover {\r\n  background-color: #45a049;\r\n}\r\n</style>\r\n"]}]}